<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="format-detection" content="telephone=no">
	<meta name="HandheldFriendly" content="true">
	<meta name="Keywords" content={{seo.Keywords}}>
	<meta name="description" content={{seo.description}}>
	<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
	<title>{{seo.title}}</title>

	{{!--
	<link href="/css/bootstrap.min.css" rel="stylesheet"> --}}
	<link rel="stylesheet" href="/css/animate.css">
	<link rel="stylesheet" href="/css/common.css">
	<link rel="stylesheet" href="/css/fonts.css">
	<link rel="stylesheet" href="/css/reset.css">
	<link rel="stylesheet" href="/css/swiper.min.css">
	<link rel="stylesheet" href="/css/jquery.page.css">
	<!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
	<!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
	<!--[if lt IE 9]>
		<script src="/js/html5shiv.min.js"></script>
		<script src="/js/respond.min.js"></script>
		<![endif]-->
	{{!-- <script type="text/javascript">
		if (navigator.appVersion.match(/MSIE [678]./i) == null) {
			document.writeln(
				'<link type="text/css" href="//version.coolsite360.com/ynzzkt/28/styles.css" rel="stylesheet">')
		}
	</script> --}}
	<script src="/js/vue.min.js"></script>
</head>

<body>
	<div class="page">
		{{> header}} {{{body}}} {{> info}} {{> footer}}
	</div>


	<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
	<script src="/js/jquery.min.js"></script>
	<script src="/js/jquery.lazyload.min.js"></script>

	<script src="/js/swiper.min.js"></script>
	<script src="/js/swiper.animate1.0.3.min.js"></script>
	<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/wow.min.js"></script>
	<script src="/js/jquery.imageScroll.min.js"></script>
	<script src="/js/waypoints.min.js"></script>
	<script src="/js/jquery.counterup.min.js"></script>
	<script src="/js/jqPaginator.js"></script>
	<script src="/js/jQuery.Form.js"></script>
	<script>
		(function (window) {
			$('.contup').counterUp({
				delay: 10,
				time: 2000
			});
		})(window)
	</script>
	<script type="text/javascript">
		$(function () {
			$('.page').addClass('show')
			new WOW(
				{
					boxClass: 'wow',
					animateClass: 'animated',
					offset: 0,
					mobile: true,
					live: true
				}
			).init();
			$('img').lazyload({
				effect: 'fadeIn'
			});
			$('header ul').on('mouseenter', function () {
				$('.hide-header').addClass('active')
			}).stop().on('mouseleave', function () {
				$('.hide-header').removeClass('active')
			})
			$('.hide-header').on('mouseenter', function () {
				$(this).addClass('active')
			}).stop().on('mouseleave', function () {
				$(this).removeClass('active')
			})


			//index .
			new Swiper('.index .banner-swiper', {
				loop: true,
				navigation: {
					nextEl: '.swiper-button-next',
					prevEl: '.swiper-button-prev',
				},
				{{!-- autoplay: true, --}}
			delay: 2000,
			on: {
				init: function () {
					swiperAnimateCache(this); //隐藏动画元素 
					swiperAnimate(this); //初始化完成开始动画
				},
				slideChangeTransitionEnd: function () {
					swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
				}
			}
			});
		new Swiper('.index .about-swiper', {
			pagination: {
				el: '.swiper-pagination',
			},
			loop: true,
			autoplay: true,
			delay: 2000


		});
		new Swiper('.about .swiper-container', {
			pagination: {
				el: '.swiper-pagination',
			},
			loop: true
		});
		new Swiper('.solution .swiper-container', {
			slidesPerView: 3,
			spaceBetween: 90,
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev',
			},
			loop: true,
			autoplay: true,
			delay: 4000
		});
		$('.img-holder').imageScroll({
			image: null,
			imageAttribute: 'image',
			container: $('body'),
			windowObject: $(window),
			speed: 0,
			holderMinHeight: 720,
			holderMaxHeight: 720
		});
		var pageData=$('.news .box ul').data()
		console.log(pageData)
		if((pageData instanceof Object)){
		var current=pageData.current
		var pageSize=pageData.pagesize
		var totalItems=pageData.totalitems
		
		$.jqPaginator('.paging', {
			totalPages: Math.ceil(totalItems/pageSize),
			visiblePages: pageSize,
			currentPage: current,
			page: '<li class="pageli"><a href="javascript:;">{page}</a></li>'
		});
		$('.pageli').on('click',function(){
			location.search='current='+$(this).find('a').text()
		})
		}
		 $(":submit").click(function () {
                var options = {
                    url: "/api/leaveMessage/post",
					enctype:"multipart/form-data",
                    success: function (e) {
                    	console.log(e)
						if(e.state=='success'){
							$('.form-show').css('display','none')
							$('.c-successmessage').css('display','block')
							
						}else{
							$('.form-show').css('display','none')
							$('.c-errormessage').text('提交失败:'+e.message+';请重新提交 ')
							$('.c-errormessage').css('display','block')

						}
                    	
//                      alert("ajax请求成功");
                    }
                };
                $("#form").ajaxForm(options);
            })
		

		})

	</script>
</body>

</html>